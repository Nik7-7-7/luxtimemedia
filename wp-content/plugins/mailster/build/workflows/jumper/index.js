(()=>{var e={6942:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)l.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(l){var r=t[l];if(void 0!==r)return r.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},t.apply(null,arguments)}const l=window.wp.element,r=window.wp.i18n,s=window.wp.serverSideRender;var a=n.n(s);const i=window.wp.components,o=window.wp.blockEditor,c=(window.lodash,window.moment,window.wp.data);function m({id:e,align:t}){const n=new URL("https://kb.mailster.co/"+e);n.searchParams.set("utm_campaign","plugin"),n.searchParams.set("utm_medium","link"),n.searchParams.set("utm_source","Mailster Plugin"),n.searchParams.set("utm_term","workflow");var r={};return t&&(r.float=t),(0,l.createElement)("a",{className:"mailster-help",href:n.toString(),"data-article":e,style:r})}function u(){return new Promise((e=>{const t=(0,c.subscribe)((()=>{if((0,c.select)("core/editor").isCleanNewPost()||(0,c.select)("core/block-editor").getBlockCount()>0){const n=document.querySelector('iframe[name="editor-canvas"]'),l=n?n.contentWindow:window,r=()=>{l.removeEventListener("load",r),t(),e(l)};l.document.querySelector(".is-root-container")?r():l.addEventListener("load",r)}}))}))}function d(e,t){const[n,r]=(0,l.useState)();return(0,l.useEffect)((()=>{u().then((t=>{r(t),e&&e(t)}))}),t||[]),n}function f(e){const{attributes:t,setAttributes:n,help:s="",label:o,title:m}=e,{conditions:u}=t,[d,f]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),_=(0,c.useSelect)((e=>e("mailster/automation").getEmails()));return(0,l.useEffect)((()=>{const e=setInterval((function(){const t=document.querySelector(".mailster-conditions");t&&(f(!0),mailster.conditions.init(t),clearInterval(e))}),100);return()=>{clearInterval(e)}})),(0,l.useEffect)((()=>{u&&n({conditions:u.replace("&amp;","&")})}),[u]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.BaseControl,{label:o||(0,r.__)("Conditions","mailster"),help:s},u&&(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(a(),{block:"mailster-workflow/conditions",className:"conditions-preview",attributes:{...t,render:!0,plain:!1,emails:_},EmptyResponsePlaceholder:()=>(0,l.createElement)(i.Spinner,null)})),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.Button,{variant:"secondary",onClick:()=>h(!0)},u?(0,r.__)("Change Conditions","mailster"):(0,r.__)("Add Conditions","mailster")),u&&(0,l.createElement)(i.Button,{variant:"link",isDestructive:!0,onClick:()=>n({conditions:void 0})},(0,r.__)("Clear","mailster")))),p&&(0,l.createElement)(i.Modal,{title:m||(0,r.__)("Define your conditions for this step","mailster"),className:"mailster-conditions-modal",onRequestClose:()=>h(!1),shouldCloseOnClickOutside:!0,__experimentalhideheader:!0},(0,l.createElement)(a(),{block:"mailster-workflow/conditions",attributes:{...t,emails:_}}),(0,l.createElement)("div",{className:"modal-conditions-buttons"},(0,l.createElement)(i.Button,{variant:"primary",disabled:!d,onClick:()=>{h(!1),n({conditions:mailster.conditions.serialize()})}},(0,r.__)("Save","mailster")),(0,l.createElement)(i.Button,{disabled:!d,variant:"secondary",onClick:()=>{h(!1)}},(0,r.__)("Cancel","mailster")))))}const p=(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)("path",{d:"M11,11V5a2,2,0,0,1,2-2h6a2,2,0,0,1,2,2v6a2,2,0,0,1-2,2H13",fill:"none",stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.createElement)("rect",{x:"3",y:"11",width:"10",height:"10",rx:"2",strokeWidth:"1.5",stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,l.createElement)("line",{x1:"8",y1:"5",x2:"6",y2:"7",fill:"none",stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.createElement)("line",{x1:"6",y1:"3",x2:"8",y2:"5",fill:"none",stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.createElement)("path",{d:"M8,5H5A2,2,0,0,0,3,7V8",fill:"none",stroke:"#323232",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.createElement)("path",{d:"M24,0V24H0V0Z",fill:"none"}));function h(t){const{attributes:n,setAttributes:s,clientId:a,isSelected:o}=t,{step:m}=n,[u,f]=(0,l.useState)(),[h,_]=(0,l.useState)(!1),E=d(),{toggleBlockHighlight:w}=(0,c.dispatch)("core/block-editor"),y=function(e){const[t,n]=(0,l.useState)([]);return(0,l.useEffect)((()=>{const e=function(e,t=null,n=!0){const{getBlocks:l,getBlockRootClientId:r}=(0,c.select)("core/block-editor"),s=l(t);let a=[];return function t(l){l.forEach((l=>{l.name&&new RegExp(e,"g").test(l.name)&&(l.rootClientId=r(l.clientId),a.push(l)),n&&l.innerBlocks.length>0&&t(l.innerBlocks)}))}(s),a}("^mailster-workflow/(conditions|action|email|delay|stop|jumper|notification)$");t!==e&&n(e)}),[e]),t}(o);(0,l.useEffect)((()=>{if(!y.length)return;const e=y.find((e=>e.attributes.id===m));e?f(e):(f(void 0),b(void 0))}),[m,y]);const b=e=>{s({step:e})},k={block:"center",inline:"nearest"},g=({onClose:t})=>y.map(((n,r)=>{if(n.clientId===a)return null;const s=n.attributes.id,o=(0,e.getBlockType)(n.name);return(0,l.createElement)(i.MenuGroup,{key:r},(0,l.createElement)(i.MenuItem,{icon:o.icon.src||o.icon,iconPosition:"left",info:s,isSelected:s===m,onMouseOver:()=>{w(n.clientId,!0);const e=E.document.getElementById("block-"+n.clientId);e&&e.scrollIntoView(k)},onClick:()=>{b(s),t();const e=E.document.getElementById("block-"+a);e&&e.scrollIntoView({behavior:"smooth"}),w(a,!0)}},o.title))})),v=u&&(0,e.getBlockType)(u.name).title||(0,r.__)("Select a step","mailster"),S=u&&(0,e.getBlockType)(u.name).icon.src||p;return(0,l.createElement)(i.BaseControl,null,(0,l.createElement)(i.Panel,null,y.length<=1?(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.Tip,null,(0,r.__)("Please add additional steps to your workflow.","mailster"))):(0,l.createElement)(i.BaseControl,{label:(0,r.__)("Jump to Step","mailster")},(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.DropdownMenu,{text:v,icon:S},(e=>(0,l.createElement)(g,e)))),m&&(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.Button,{variant:"secondary",isPressed:h,icon:h?"controls-back":"search",onClick:()=>{const e=h?a:u.clientId;w(e,!0);const t=E.document.getElementById("block-"+e);t&&t.scrollIntoView(k),_(!h)}},h?(0,r.__)("Back to Jumper","mailster"):(0,r.__)("Find Step","mailster"))))))}function _(e){const{attributes:n}=e,{conditions:s}=n;return(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(m,{id:"66336f4fc3d8e87cfb53c423",align:"right"}),(0,l.createElement)(h,e))),(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(f,t({},e,{label:s?(0,r.__)("Only if following conditions are fullfilled.","mailster"):(0,r.__)("Conditions","mailster"),title:(0,r.__)("Only jump if these condtions are fullfilled","mailster")})))))}var E=n(6942),w=n.n(E);const y=window.wp.apiFetch;var b=n.n(y);const k=window.wp.date,g=(0,k.getSettings)(),v=((0,r.__)("Minute","mailster"),(0,r.__)("Minutes","mailster"),(0,r.__)("Hour","mailster"),(0,r.__)("Hours","mailster"),(0,r.__)("Day","mailster"),(0,r.__)("Days","mailster"),(0,r.__)("Week","mailster"),(0,r.__)("Weeks","mailster"),(0,r.__)("Month","mailster"),(0,r.__)("Months","mailster"),(0,r.__)("Specific Time of the day","mailster"),(0,r.__)("Specific day of the week","mailster"),(0,r.__)("Specific day of the month","mailster"),(0,r.__)("Specific date","mailster"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"1st"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"2nd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"3rd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"4th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"5th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"6th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"7th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"8th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"9th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"10th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"11st"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"12nd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"13rd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"14th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"15th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"16th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"17th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"18th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"19th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"20th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"21st"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"22nd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"23rd"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"24th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"25th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"26th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"27th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"28th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"29th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"30th"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"31st"),(0,r.sprintf)((0,r.__)("%s day of the month","mailster"),"Last"),g.l10n.weekdays.slice(g.l10n.startOfWeek),g.l10n.weekdays.slice(0,g.l10n.startOfWeek),g.l10n.startOfWeek,g.formats.date),S=g.formats.time;function C(e){const{attributes:n}=e,{id:s}=n,a=(0,c.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),[u,d]=(0,l.useState)(!1),[f,p]=(0,l.useState)(!1),h=function(e){const t=(0,c.useSelect)((e=>e("mailster/automation").getQueue()),[]),[n,r]=(0,l.useState)(0);return(0,l.useEffect)((()=>{t&&r(t[e]||0)}),[e,t]),n}(s),_=(0,r.sprintf)((0,r._n)("%s subscriber queued","%s subscribers queued",h,"mailster"),h);return(0,l.useEffect)((()=>{if(u&&s&&a)return h?void b()({path:"/mailster/v1/automations/queue/"+a+"/"+s}).then((e=>{p(e)})):p([])}),[u,a,s,h]),(0,l.createElement)(l.Fragment,null,h>0&&(0,l.createElement)("span",{className:"mailster-step-queued",title:_,onClick:()=>d(!0)},h),u&&(0,l.createElement)(i.Modal,{title:_,onRequestClose:()=>d(!1)},(0,l.createElement)(m,{id:"66b09cdba62a7505fcf33836",align:"right"}),(0,l.createElement)("div",{className:"mailster-queue-table"},!f&&(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.Spinner,null)))),f&&(0,l.createElement)(P,t({data:f,setData:p},e))),(0,l.createElement)(i.Tip,null,(0,r.__)("This table shows you the subscribers which are currently queued in this step. You can finish, trash or move them to the next step with the action buttons.","mailster"))),(0,l.createElement)(o.InspectorControls,null,h>0&&(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,{title:(0,r.__)("Queue","mailster")},(0,l.createElement)(m,{id:"66b09cdba62a7505fcf33836",align:"right"}),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.Button,{onClick:()=>d(!0),variant:"secondary"},_))),(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(i.Tip,null,(0,r.__)("Subscribers who are already queued in this step will not be affected by any changes you make.","mailster"))))))}g.formats.datetime,g.formats.time.match(/[a|A]/);const P=e=>{const{attributes:t,data:n,setData:s}=e,{id:a}=t,[o,m]=(0,l.useState)(!1),u=(0,c.useSelect)((e=>e("core/editor").getCurrentPostId()),[]),d=(e,t,l,r)=>{const i="/mailster/v1/automations/queue/"+u+"/"+a+"/"+e.ID;m(!0),b()({path:i,method:l,data:r}).then((e=>{e&&s(n.filter(((e,n)=>n!==t))),m(!1),(0,c.dispatch)("mailster/automation").invalidateResolutionForStoreSelector("getQueue")}))},f=(new Date).getTime(),p=n.map(((e,n)=>{const s=1e3*e.timestamp,a=1e3*e.added;return(0,l.createElement)("tr",{key:n},(0,l.createElement)("td",null,(0,l.createElement)(i.ExternalLink,{href:"edit.php?post_type=newsletter&page=mailster_subscribers&ID="+e.subscriber_id},e.email),0==e.status&&(0,l.createElement)("p",{className:"description"},(0,r.__)("This subscriber hasn't confirmed their subscription yet. The workflow will continue once the user confirms their subscriptions.","mailster"))),(0,l.createElement)("td",null,e.trigger),(0,l.createElement)("td",null,a&&(0,l.createElement)(i.Tooltip,{text:(0,k.dateI18n)(v,a)+" @ "+(0,k.dateI18n)(S,a)},(0,l.createElement)("div",null,(0,k.humanTimeDiff)(a)))),(0,l.createElement)("td",null,s&&(0,l.createElement)(i.Tooltip,{text:(0,k.dateI18n)(v,s)+" @ "+(0,k.dateI18n)(S,s)},(0,l.createElement)("div",null,s>f?(0,k.humanTimeDiff)(s):(0,r.__)("right now","mailster")))),(0,l.createElement)("td",null,(0,l.createElement)(i.Button,{icon:"flag",disabled:o,label:(0,r.__)("Finish Journey","mailster"),onClick:()=>((e,t)=>{const n=(0,r.sprintf)((0,r.__)("Do you really like to finish the journey for %s?","mailster"),e.email);confirm(n)&&d(e,t,"POST",{finish:!0})})(e,n)}),(0,l.createElement)(i.Button,{icon:"controls-skipforward",disabled:o||1!=e.status||t.disabled,label:(0,r.__)("Forward to next step","mailster"),onClick:()=>((e,t)=>{const n=(0,r.sprintf)((0,r.__)("Do you really like to forward %s to the next step?","mailster"),e.email);confirm(n)&&d(e,t,"POST",{forward:!0})})(e,n)}),(0,l.createElement)(i.Button,{icon:"trash",disabled:o,isDestructive:!0,label:(0,r.__)("Remove entry","mailster"),onClick:()=>((e,t)=>{const n=(0,r.sprintf)((0,r.__)("Do you really like to remove %s from the queue?","mailster"),e.email);confirm(n)&&d(e,t,"DELETE")})(e,n)})))}));return(0,l.createElement)("table",{className:"wp-list-table widefat striped"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,r.__)("Subscriber","mailster")),(0,l.createElement)("th",null,(0,r.__)("Trigger","mailster")),(0,l.createElement)("th",null,(0,r.__)("Added","mailster")),(0,l.createElement)("th",null,(0,r.__)("Continues","mailster")),(0,l.createElement)("th",{style:{width:"150px"}},(0,r.__)("Actions","mailster")))),(0,l.createElement)("tbody",null,p))},B={label:(0,r.__)("Skip Step","mailster"),help:(0,r.__)("Skip this step when the workflow is executed.","mailster")},I={label:(0,r.__)("Skip Trigger","mailster"),help:(0,r.__)("Disable this trigger for the workflow.","mailster")};function x(e){const{attributes:t,setAttributes:n,name:r}=e,{disabled:s=!1}=t;if("mailster-workflow/stop"===r)return null;const a="mailster-workflow/trigger"==r?I:B;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(o.BlockControls,{group:"other"},(0,l.createElement)(i.ToolbarButton,{icon:s?"hidden":"visibility",isPressed:s,title:a.label,onClick:()=>n({disabled:!s||void 0})})),(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{icon:s?"hidden":"visibility",label:a.label,help:a.help,checked:s,onChange:e=>n({disabled:!!e||void 0})}))))))}function T(e){const{attributes:t,setAttributes:n,name:s}=e,{comment:a=""}=t;return"mailster-workflow/trigger"===s?null:(0,l.createElement)(l.Fragment,null,a&&(0,l.createElement)("div",{className:"mailster-step-comment"},a),(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.TextControl,{label:(0,r.__)("Comment","mailster"),help:(0,r.__)("Add a comment to help you understand your workflow.","mailster"),value:a,onChange:e=>n({comment:e||void 0})}))))))}function N(e){const{attributes:t}=e,{id:n}=t;if(n)return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"mailster-step-id",title:sprintf((0,r.__)("Step ID : %s","mailster"),n)},n),(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(i.Panel,null,(0,l.createElement)(i.PanelBody,null,(0,l.createElement)(i.PanelRow,{className:"code"},sprintf((0,r.__)("Step ID : %s","mailster"),n))))))}function R(e){const{attributes:t,clientId:n,name:s,isSelectionEnabled:a}=e,{isExample:m}=t;if((0,c.useSelect)((e=>{const t=e("core/block-editor").getBlocks();return t.length?t.at(-1).clientId:null}))!==n)return null;const u="mailster-workflow/triggers"===s?(0,r.__)("Click + to add a step","mailster"):(0,r.__)("Workflow Finished","mailster");return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.Tooltip,{text:(0,r.__)("Once the user reaches this point the workflow will be finished.","mailster")},(0,l.createElement)("span",{className:"workflow-finished "+s.replace("mailster-workflow/","workflow-finished-")},!m&&u)),a&&(0,l.createElement)(o.ButtonBlockAppender,null))}function j(e){const{attributes:t,setAttributes:n,children:r,className:s=[],hasStepId:a=!0,before:c,after:m,inspectorControls:d,isSelected:f,isIncomplete:p,clientId:h,blockAttributes:_={},isSelectionEnabled:E}=e,{id:y,disabled:b=!1}=t;!function(e){const[t,n]=(0,l.useState)();(0,l.useEffect)((()=>{u().then((t=>{n(t.document),e&&e(t.document)}))}),[])}((e=>{e&&a&&(!y||e.querySelectorAll(".mailster-step-"+y).length>1)&&n({id:h.substring(30)})})),(0,l.useEffect)((()=>{if(f&&y)return history.replaceState(void 0,void 0,"#step-"+y),()=>{history.pushState("",document.title,location.pathname+location.search)}}),[f]);const k=(0,l.useRef)();y&&s.push("mailster-step-"+y),p&&E&&s.push("mailster-step-incomplete"),b&&s.push("mailster-step-disabled");const g=(0,o.useBlockProps)({className:w()({},s),..._});return(0,l.createElement)(l.Fragment,null,d,(0,l.createElement)("div",g,c,(0,l.createElement)(i.Card,{className:"mailster-step",ref:k},(0,l.createElement)(T,e),(0,l.createElement)(x,e),(0,l.createElement)(C,e),(0,l.createElement)(N,e),(0,l.createElement)("div",{className:"mailster-step-inner"},r)),m,(0,l.createElement)("div",{className:"end-stop canvas-handle"})),(0,l.createElement)(R,e))}const D=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"mailster-workflow/jumper","title":"Jumper","category":"mailster-workflow-steps","keywords":["jumper","time"],"description":"Jump to a specific step in this workflow.","parent":["core/post-content","mailster-workflow/condition-yes","mailster-workflow/condition-no"],"example":{"attributes":{"step":"12345"}},"supports":{"html":false,"className":false,"customClassName":false},"attributes":{"id":{"type":"string"},"disabled":{"type":"boolean"},"step":{"type":"string"},"conditions":{"type":"string"},"comment":{"type":"string"}},"textdomain":"mailster","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),{name:O,...L}=D;(0,e.registerBlockType)(O,{...L,__experimentalLabel:function(e,{context:t}){const{step:n,content:l,metadata:s}=e;return s?.name?s.name:(0,r.sprintf)((0,r.__)("Jump to #%s","mailster"),n||"…")||l},icon:p,edit:function(e){const{attributes:n,isSelected:s}=e,{conditions:o,step:c}=n,m=sprintf((0,r.__)("Jump to #%s","mailster"),c||"…"),u=d();return(0,l.useEffect)((()=>{if(!c||!u)return;const e=u.document.querySelector(".mailster-step-"+c);e&&(s?e.classList.add("is-jumper"):e.classList.remove("is-jumper"))}),[u,c,s]),(0,l.createElement)(j,t({},e,{isIncomplete:!c,inspectorControls:(0,l.createElement)(_,e)}),(0,l.createElement)(i.CardBody,{size:"small"},(0,l.createElement)("div",{className:"mailster-step-label"},(0,l.createElement)(i.Icon,{icon:p}),m),o&&(0,l.createElement)("div",{className:"mailster-step-info"},(0,r.__)("only if","mailster"),(0,l.createElement)(a(),{block:"mailster-workflow/conditions",attributes:{...n,render:!0,plain:!0},EmptyResponsePlaceholder:()=>(0,l.createElement)(i.Spinner,null)}),(0,r.__)("otherwise continue","mailster"))))},save:()=>null})})()})();