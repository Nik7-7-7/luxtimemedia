/*
* Ultimate Learning Pro - Backend Functions
*/
"use strict";
var UltimateLearningPro={current_page:null,ulp_admin_general_messages:null,init:function(){this.ulp_admin_general_messages="object"==typeof ulp_admin_messages?ulp_admin_messages:JSON.parse(ulp_admin_messages);jQuery("#ulp_course_featured-checkbox").on("click",function(){UltimateLearningPro.checkAndH("#ulp_course_featured-checkbox","[name=ulp_course_featured]")});jQuery(".key-up-action").keyup(function(){});jQuery(".ulp-delete-parent").on("click",function(){ulpRemoveElementFromLeft(this)});jQuery(".js-ulp-instructor-become-normal-user").on("click",
function(){var a=jQuery(this).attr("data-uid");a&&jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_instructor_become_normal_user",user_id:a},success:function(b){jQuery("#row_"+a).remove()}})})},checkAndH:function(a,b){jQuery(a).is(":checked")?jQuery(b).val(1):jQuery(b).val(0)}};jQuery(function(){UltimateLearningPro.init()});function ulpDoModuleRemove(a){jQuery("#moduleid_"+a).fadeOut(500,function(){this.remove()})}
function ulpDoModuleToggle(a){if("none"==jQuery("#ulp_module_content_inside_"+a).css("display")){jQuery("#ulp_module_content_inside_"+a).slideDown(500);var b='<i class="fa-ulp fa-toggle_up-ulp" title="'+UltimateLearningPro.ulp_admin_general_messages.toggle_section+'" ></i>'}else jQuery("#ulp_module_content_inside_"+a).slideUp(500),b='<i class="fa-ulp fa-toggle_down-ulp" title="'+UltimateLearningPro.ulp_admin_general_messages.toggle_section+'" ></i>';jQuery("#ulp_toggle_modukle_"+a).html(b)}
function ulpLoading(a){jQuery(a).html("<div class='ulp-loading-wrapp'><img src='"+decodeURI(window.ulp_url)+"/wp-content/plugins/indeed-learning-pro/assets/images/loading.gif' /></div>")}function removeUlpLoading(a){jQuery(a).empty()}function ulpCheckAndH(a,b){jQuery(a).is(":checked")?jQuery(b).val(1):jQuery(b).val(0)}function ulpUpdateNumOfEachDiv(a){jQuery(a).each(function(b,c){b++;jQuery(c).html(b)})}
function ulpMakeInputhString(a,b){var c=jQuery(b).val();-1==c&&(c="");c=""!=c?c.split(","):[];var d=jQuery(a).val();jQuery(a).is(":checked")?c.push(d):(d=c.indexOf(d),c.splice(d,1));c=c.join(",");""==c&&(c=-1);jQuery(b).val(c)}function ulpSecondMakeInputhString(a,b,c){var d=jQuery(c).val();-1==d&&(d="");d=""!=d?d.split(","):[];jQuery(a).is(":checked")?d.push(b):(a=d.indexOf(b),d.splice(a,1));d=d.join(",");""==d&&(d=-1);jQuery(c).val(d)}
function ulpMakeInputhStringWithValue(a,b,c){var d=jQuery(b).val();-1==d&&(d="");d=""!=d?d.split(","):[];jQuery(a).is(":checked")?d.push(c):(a=d.indexOf(c),d.splice(a,1));d=d.join(",");""==d&&(d=-1);jQuery(b).val(d)}function ulpRemoveElementFromLeft(a){jQuery(a).parent().remove()}function ulpDhSelector(a,b){var c=b?"visible":"hidden";jQuery(a).css("visibility",c)}
function ulpDeleteFromTable(a,b,c,d){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.are_you_sure,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery(c).val(a);jQuery(d).submit()})}
function ulpCheckEmailServer(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_check_mail_server"},success:function(a){swal(UltimateLearningPro.ulp_admin_general_messages.email_works,"","success")}})}
function ulpReturnNotification(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_get_notification_default_by_type",type:jQuery("#notf_type").val()},success:function(a){a=jQuery.parseJSON(a);jQuery("#notf_subject").val(a.subject);jQuery("#notf_message").val(a.content);jQuery("#notf_message_ifr").contents().find("#tinymce").html(a.content)}})}
function ulpDuplicatePost(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_duplicate_post",post_id:a},success:function(b){location.reload()}})}
function openMediaUp(a,b){if(!c){var c=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1});c.on("select",function(){var d=c.state().get("selection").first().toJSON();jQuery(a).val(d.url);""!=b&&(jQuery(b).attr("src",d.url),jQuery(b).css("display","block"))})}c.open()}
function ulpBadgesDoDelete(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_delete_badge",id:a},success:function(b){jQuery("#table_tr_"+a).fadeOut(300)}})}function ulpMakeInstructorUser(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_instructor_become_normal_user",user_id:a},success:function(b){location.reload()}})}
function ulpMakeUserInstructor(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_user_become_instructor",user_id:a},success:function(b){location.reload()}})}
function ulpRemoveCourse(a,b,c){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.remove_user_from_course+c+"?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_user_remove_course",user_id:a,course_id:b},success:function(d){location.reload()}})})}
function ulpRemoveInstructorFromCourse(a,b,c,d){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.remove_instructor_from_course+c+"?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_remove_instructor_from_course",user_id:a,course_id:b,is_additional_instructor:d},
success:function(g){location.reload()}})})}function ulpAdminPreviewInvoice(){var a=jQuery("#invoice_form").serializeArray();jQuery("#preview_container").html("");jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_admin_invoice_preview",metas:a},success:function(b){jQuery("#preview_container").html(b)}})}
function ulpOpenInvoiceAdmin(a,b){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_get_invoice_popup",order_id:a,uid:b},success:function(c){jQuery("body").append(c)}})}function ulpClosePopup(){jQuery("#ulp_popup").fadeOut(500,function(){jQuery(this).remove()})}
function ulpApMakeVisible(a,b){jQuery(".ulp-ap-tabs-list-item").removeClass("ulp-ap-tabs-selected-item");jQuery(b).addClass("ulp-ap-tabs-selected-item");jQuery(".ulp-ap-tabs-settings-item").fadeOut(200,function(){jQuery("#ulp_tab_item_"+a).css("display","block")})}
function ulpOpenCertificateFromAdmin(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_get_certificate_popup_for_admin",certificate_id:a},success:function(b){jQuery("body").append(b)}})}function ulpShowSelectorIf(a,b,c){b==c?jQuery(a).css("display","block"):jQuery(a).css("display","none")}
function ulpResetPoints(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_reset_points",user_id:a},success:function(b){location.reload()}})}function ulpRemoveCurrency(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_delete_custom_currency",code:a},success:function(b){b&&jQuery("#ulp_div_"+a).fadeOut(300)}})}
function ulpRemoveDifficultyType(a){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_delete_course_difficulty",slug:a},success:function(b){b&&jQuery("#ulp_div_"+a).fadeOut(300)}})}function ulpCheckFieldLimit(a,b){jQuery(b).val().length>a&&(jQuery(b).val(""),swal(UltimateLearningPro.ulp_admin_general_messages.error,a+" "+UltimateLearningPro.ulp_admin_general_messages.limit_char,"error"))}
function ulpChangePostStatus(a,b,c){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_change_post_status",post_id:a,post_status:b},success:function(d){""==c?location.reload():window.location.href=c}})}
function ulpMakeExportFile(){var a=jQuery("#import_instructors").val(),b=jQuery("#import_students").val(),c=jQuery("#import_settings").val(),d=jQuery("#import_custom_post_types").val();jQuery("#ulpLoading_gif .spinner").css("visibility","visible");jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_make_export_file",import_instructors:a,import_students:b,import_settings:c,import_custom_post_types:d},success:function(g){0!=g&&(jQuery(".ulp-hidden-download-link a").attr("href",
g),jQuery(".ulp-hidden-download-link").fadeIn(200),jQuery("#ulpLoading_gif .spinner").css("visibility","hidden"))}})}function ulpChangeColorScheme(a,b,c){jQuery("#colors_ul li").each(function(){jQuery(this).removeClass("color-scheme-item-selected")});jQuery(a).addClass("color-scheme-item-selected");jQuery(c).val(b)}
function ulpChangeColorSchemeWd(a,b,c){var d=jQuery(a).attr("class");jQuery("#colors_ul li").each(function(){jQuery(this).attr("class","color-scheme-item")});jQuery(c).val("");"color-scheme-item"==d&&(jQuery(a).attr("class","color-scheme-item-selected"),jQuery(c).val(b))}function ulpCheckboxDivRelation(a,b){var c=.5;jQuery(a).is(":checked")&&(c=1);jQuery(b).css("opacity",c)}
function ulpPreviewShortcode(){jQuery("#preview").html("");jQuery("#preview").html('<div class="ulp-preview-warpper"><img src="'+window.ulp_plugin_url+'/assets/images/loading.gif"/></div>');var a=[];a.num_of_entries=jQuery("#num_of_entries").val();a.entries_per_page=jQuery("#entries_per_page").val();a.order_by=jQuery("#order_by").val();a.order_type=jQuery("#order_type").val();jQuery("#include_fields_label").is(":checked")&&(a.include_fields_label=1);a.theme=jQuery("#theme").val();a.color_scheme=jQuery("#color_scheme").val();
a.columns=jQuery("#columns").val();jQuery("#align_center").is(":checked")&&(a.align_center=1);if(jQuery("#slider_set").is(":checked")){a.slider_set=1;a.items_per_slide=jQuery("#items_per_slide").val();a.speed=jQuery("#speed").val();a.pagination_speed=jQuery("#pagination_speed").val();a.pagination_theme=jQuery("#pagination_theme").val();a.animation_in=jQuery("#animation_in").val();a.animation_out=jQuery("#animation_out").val();for(var b="bullets nav_button autoplay stop_hover responsive autoheight lazy_load loop".split(" "),
c=0;c<b.length;c++)jQuery("#"+b[c]).is(":checked")&&(a[b[c]]=1)}a.general_pagination_theme=jQuery("#general_pagination_theme").val();a.pagination_pos=jQuery("#pagination_pos").val();a.fields=jQuery("#ulp_grid_fields").val();b="";switch(window.ulp_grid_entity_type){case "students":b="[ulp-grid-students ";break;case "courses":a.filter_by_cats=jQuery("#ulp_filter_by_cats").val(),-1==a.filter_by_cats&&(a.filter_by_cats=""),b="[ulp-grid-courses "}for(var d in a)b+=d+"='"+a[d]+"' ";b+="]";jQuery(".the-shortcode").html(b);
jQuery(".php-code").html('&lt;?php echo do_shortcode("'+b+'");?&gt;');jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_do_shortcode",shortcode:b},success:function(g){jQuery("#preview").html(g);ulpInitOwl()}})}function ulpSplit(a){return-1!=a.indexOf(",")?a.split(/,\s*/):""!=a?[a]:[]}function ulpExtract(a){return ulpSplit(a).pop()}function contains(a,b){return a.some(function(c){return c==b})}
function ulpLoadCourseStudents(a){jQuery("#ulp_list_course_students").slideUp(500);jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_edit_course_return_all_students_in_table",post_id:a},success:function(b){jQuery("#ulp_list_course_students").html(b);jQuery("#ulp_list_course_students").slideDown(500)}})}
function ulpAddUserToCourse(a){jQuery("#ulp_list_course_students").slideUp(500);jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_edit_course_add_new_student",post_id:a,username:jQuery("#ulp_new_student").val()},success:function(b){ulpLoadCourseStudents(b);jQuery("#ulp_new_student").val("")}})}
function ulp_remove_course_reload_table(a,b,c){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.remove_user_from_course+c+"?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!0},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_user_remove_course",user_id:a,course_id:b},success:function(d){ulpLoadCourseStudents(b)}})})}
function ulpRemoveUserBadge(a,b){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.remove_badge_from_user,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_user_remove_badge",user_id:a,badge_id:b},success:function(c){location.reload()}})})}
function ulpRemoveUserCertificate(a,b){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.remove_certificate_from_user,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_user_remove_certificate",user_id:a,certificate_id:b},success:function(c){location.reload()}})})}
document.addEventListener("DOMContentLoaded", function() { jQuery(".js-ulp-do-delete-post").on("click",function(e){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.delete_post,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!1},function(){jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_do_delete_post",postId:jQuery(e.target).attr("data-id")},
success:function(f){location.reload()}})})});jQuery(".deactivate").on("click",function(e){if(-1<jQuery(e.target).attr("href").indexOf("indeed-learning-pro")){var f=1==window.ulpKeepData?"Plugin data will be kept in database after you delete the plugin.":"Plugin data will be lost after you delete the plugin.",h=jQuery(e.target).attr("href");swal({title:f,text:"In order to change that, go to General Settings -> Admin Workflow.",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"OK",
closeOnConfirm:!0},function(){window.location.href=h});return!1}});jQuery(".ulp-js-close-admin-dashboard-notice").on("click",function(){var e=jQuery(this).parent();e.fadeOut(1E3);jQuery.ajax({type:"post",url:decodeURI(window.uap_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_close_admin_notice"},success:function(f){e.remove()}})});if(0<jQuery(".ulp-js-course-grid-list-settings-toggle").length)jQuery(".ulp-js-course-grid-list-settings-toggle").on("click",function(){jQuery("#the_ulp_user_list_settings").slideToggle()});
if(0<jQuery(".ulp-js-course-grid-list-settings-toggle-preview").length)jQuery(".ulp-js-course-grid-list-settings-toggle-preview").on("click",function(){jQuery("#preview").slideToggle()});0<jQuery(".ulp-js-courses-grid-preview-shortcode").length&&(window.ulp_grid_entity_type=jQuery(".ulp-js-courses-grid-preview-shortcode").attr("data-grid_entity_type"),ulpPreviewShortcode());0<jQuery(".ulp-js-magic-feat-invoices").length&&ulpAdminPreviewInvoice();if(0<jQuery(".ulp-js-magic-feat-invoice-remove").length)jQuery(".ulp-js-magic-feat-invoice-remove").on("click",
function(){jQuery("[name=ulp_invoices_logo]").val("")});if(0<jQuery(".ulp-js-showcase-account-page-do-delete").length)jQuery(".ulp-js-showcase-account-page-do-delete").on("click",function(){jQuery("#ulp_ap_top_background_image").val("")});if(0<jQuery(".ulp-js-showcase-account-page-shiny-select-data").length&&"undefined"!=typeof ulpShinySelect){var a=0;jQuery(".ulp-js-showcase-account-page-shiny-select-data").each(function(){var e=jQuery(this).attr("data-k"),f=jQuery(this).attr("data-default_code");
new ulpShinySelect({selector:"#indeed_shiny_select_"+e,item_selector:".ulp-font-awesome-popup-item",option_name_code:"ulp_ap_"+e+"_icon_code",option_name_icon:"ulp_ap_"+e+"_icon_class",default_icon:"fa-ulp fa-"+e+"-account-ulp",default_code:f,init_default:!0,second_selector:"#ulp_icon_arrow_"+e});a++})}if(0<jQuery(".ulp-js-student-leaderboard-toggle").length)jQuery(".ulp-js-student-leaderboard-toggle").on("click",function(){jQuery("#the_ulp_user_list_settings").slideToggle()});if(0<jQuery(".ulp-js-student-leaderboard-preview-toggle").length)jQuery(".ulp-js-student-leaderboard-preview-toggle").on("click",
function(){jQuery("#preview").slideToggle()});0<jQuery(".ulp-js-student-leaderboard-preview-shortcode").length&&(window.ulp_grid_entity_type="students",ulpPreviewShortcode());0<jQuery(".ulp-js-showcase-account-page-make-ap-visible").length&&ulpApMakeVisible("overview","#ulp_tab-overview");0<jQuery(".ulp-js-certificates-magic-feat-autocomplete").length&&jQuery("#username").on("keydown",function(e){e.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).autocomplete("instance").menu.active&&e.preventDefault()}).autocomplete({minLength:0,
source:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php?action=ulp_autocomplete_users&term=",focus:function(){},select:function(e,f){}});0<jQuery(".ulp-js-student-badge-add-edit-ulp-change-rules").length&&ulp_change_rules();0<jQuery(".ulp-js-notification-add-edit-load-notification-sample").length&&ulpReturnNotification();0<jQuery(".ulp-js-course-review").length&&(window.course_review_url=jQuery(".ulp-js-course-review").attr("data-url"));if(0<jQuery(".ulp-js-course-tags").length)jQuery(".ulp-delete-course-tag").on("click",
function(e){swal({title:"",text:UltimateLearningPro.ulp_admin_general_messages.are_you_sure,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:UltimateLearningPro.ulp_admin_general_messages.delete_it,closeOnConfirm:!0},function(){var f=jQuery(e.currentTarget).attr("data-term_id");jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_delete_tag",termId:f},success:function(h){location.reload()}})})});if(0<jQuery("#ulp-chart-1").length){var b=
[],c=[];a=0;jQuery(".ulp-js-dashboard-students-per-course").each(function(){var e=jQuery(this).attr("data-k"),f=jQuery(this).attr("data-v");b[a]=[a,e];c[a]={0:a,1:f};a++});if(11>a)for(a;11>a;a++)b[a]=[a,""],c[a]={0:a,1:0};var d={bars:{show:!0,barWidth:.75,fillColor:"#7ebffc",lineWidth:0},grid:{hoverable:!1,backgroundColor:"#fff",minBorderMargin:0,borderWidth:{top:0,right:0,bottom:1,left:1},borderColor:"#aaa"},xaxis:{ticks:b,tickLength:0},yaxis:{tickDecimals:0,tickColor:"#eee"},legend:{show:!0,position:"ne"}};
jQuery.plot(jQuery("#ulp-chart-1"),[{color:"#669ccf",data:c}],d)}if(0<jQuery(".ulp-js-help").length){var g=jQuery(".ulp-js-help").attr("data-nonce"),k=jQuery(".ulp-js-help").attr("data-location_reload");jQuery("[name=ulp_save_licensing_code]").on("click",function(){jQuery.ajax({type:"post",url:window.ulp_url+"/wp-admin/admin-ajax.php",data:{action:"ulp_el_check_get_url_ajax",purchase_code:jQuery("[name=ulp_licensing_code]").val(),nonce:g},success:function(e){e?window.location.href=e:alert("Error!")}});
return!1});jQuery(".ulp-js-revoke-license").on("click",function(){jQuery.ajax({type:"post",url:window.ulp_url+"/wp-admin/admin-ajax.php",data:{action:"ulp_revoke_license",nonce:g},success:function(e){window.location.href=k}})})}0<jQuery(".ulp-js-courses-students-meta-box").length&&(d=jQuery(".ulp-js-courses-students-meta-box").attr("data-post_id"),jQuery("#ulp_new_student").on("keydown",function(e){e.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).autocomplete("instance").menu.active&&e.preventDefault()}).autocomplete({minLength:0,
source:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php?action=ulp_autocomplete_users&term=",focus:function(){},select:function(e,f){}}),ulpLoadCourseStudents(d));jQuery(".ulp-js-lesson-drip-content").length&&(d=jQuery(".ulp-js-lesson-drip-content").attr("data-ulp_drip_start_type"),jQuery("#ulp_drip_start_certain_date").datepicker({dateFormat:"dd-mm-yy",onClose:function(e){jQuery("#ihc_drip_end_certain_date").datepicker("option","minDate",e)}}),ulpShowSelectorIf("#after_x_time",d,1),ulpShowSelectorIf("#specific_date",
d,2));0<jQuery(".ulp-js-questions-answer-meta-box").length&&jQuery("#ulpsrotingtype_wrapp").sortable({update:function(e,f){jQuery("#ulpsrotingtype_wrapp div").each(function(h,l){})}});0<jQuery(".ulp-js-quiz-questions-select-meta-box").length&&jQuery("#ulp_select_questions").multiselect({sortable:!0,searchable:!0,dividerLocation:.5});0<jQuery(".ulp-datetime").length&&jQuery(".ulp-datetime").each(function(){jQuery(this).datepicker({dateFormat:"yy-mm-dd ",onSelect:function(e){var f=new Date;e=e+f.getHours()+
":"+ulpAddZero(f.getMinutes())+":"+ulpAddZero(f.getSeconds());jQuery(this).val(e)}})});if(0<jQuery(".ulp-js-post-panel-ulp-course").length){d=jQuery(".ulp-js-post-panel-ulp-course").attr("data-assessmets");var m=jQuery(".ulp-js-post-panel-ulp-course").attr("data-payment");ulpShowSelectorIf("#ulp_zuiq_average",d,"quizes");ulpShowSelectorIf("#ulp_course_price_num",m,1)}0<jQuery(".ulp-js-post-panel-ulp-quiz").length&&(d=jQuery(".ulp-js-post-panel-ulp-quiz").attr("data-ulp_quiz_grade_type"),ulpShowSelectorIf("#ulp_point_description",
d,"point"));0<jQuery(".ulp-js-student-account-custom-tabs").length&&(jQuery("#ulp_reorder_menu_items tbody").sortable({update:function(e,f){jQuery("#ulp_reorder_menu_items tbody tr").each(function(h,l){var n=jQuery(this).attr("id");jQuery("#"+n+" .ulp_account_page_menu_order").val(h)})}}),ulpShinySelect({selector:"#indeed_shiny_select",item_selector:".ulp-font-awesome-popup-item",option_name_code:"ulp_account_page_menu_add_new-the_icon_code",option_name_icon:"ulp_account_page_menu_add_new-the_icon_class",
default_icon:"",default_code:"",init_default:!1,second_selector:".ulp-icon-arrow"}));0<jQuery(".ulp-js-init-print-this").length&&(d=jQuery(".ulp-js-init-print-this").attr("data-load_css"),window.printhisopt={importCSS:!0,importStyle:!0,loadCSS:d,debug:!1,printContainer:!0,pageTitle:"",removeInline:!1,printDelay:333,header:null,formValues:!1})});
jQuery(document).ajaxSend(function(a,b,c){"string"===typeof c.data&&!1!==c.data.includes("action=ulp")&&"string"===typeof c.url&&c.url.includes("/admin-ajax.php")&&(a=jQuery('meta[name="ulp-admin-token"]').attr("content"),b.setRequestHeader("X-CSRF-ULP-ADMIN-TOKEN",a))});function ulpAddZero(a){10>a&&(a="0"+a);return a}
function ulp_change_rules(){"static"==jQuery("[name=badge_type]").val()?(jQuery("#rule_types_tier").css("display","none"),jQuery("#rule_types_static").css("display","block")):(jQuery("#rule_types_tier").css("display","block"),jQuery("#rule_types_static").css("display","none"))}
function ulpInitOwl(){jQuery(".ulp-js-slider-option-data").length&&jQuery(".ulp-js-slider-option-data").each(function(){var a=jQuery(this).attr("data-target"),b=jQuery(this).attr("data-autoHeight");jQuery(this).attr("data-animateOut");jQuery(this).attr("data-animateIn");jQuery(this).attr("data-lazyLoad");jQuery(this).attr("data-loop");jQuery(this).attr("data-autoplay");var c=jQuery(this).attr("data-autoplayTimeout");c=parseInt(c);jQuery(this).attr("data-autoplayHoverPause");var d=jQuery(this).attr("data-autoplaySpeed");
d=parseInt(d);jQuery(this).attr("data-nav");var g=jQuery(this).attr("data-navSpeed");g=parseInt(g);jQuery(this).attr("data-dots");var k=jQuery(this).attr("data-dotsSpeed");k=parseInt(k);jQuery(this).attr("data-responsiveClass");jQuery(a).owlUlpCarousel({items:1,mouseDrag:!0,touchDrag:!0,autoHeight:b,animateOut:!1,animateIn:!1,lazyLoad:!1,loop:!0,autoplay:!0,autoplayTimeout:c,autoplayHoverPause:!1,autoplaySpeed:d,nav:!0,navSpeed:g,navText:["",""],dots:!0,dotsSpeed:k,responsiveClass:!1,responsive:{0:{nav:!1},
450:{nav:!0}}})})}function ulpInitPrinthis(a){"undefined"!=typeof window.printhisopt&&jQuery(a).printThis(window.printhisopt)}
function ulpInitCourseMultiselect(){0<jQuery(".ulp-js-couse-add-new-module").length&&jQuery(".ulp-js-couse-add-new-module").each(function(){var a=jQuery(this).attr("data-id");jQuery("#ulp_remove_modukle_"+a).on("click",function(){ulpDoModuleRemove(a)});jQuery("#ulp_toggle_modukle_"+a).on("click",function(){ulpDoModuleToggle(a)});jQuery("#module_item_"+a).multiselect({sortable:!0,searchable:!0,dividerLocation:.5})})};
document.addEventListener("DOMContentLoaded", function() { if(-1!==window.location.href.indexOf("admin.php?page=ultimate_learning_pro&tab=notifications")&&(jQuery(".ulp-js-notifications-fire-notification-test"),0<jQuery(".ulp-js-notifications-fire-notification-test").length))jQuery(".ulp-js-notifications-fire-notification-test").on("click",function(){var a=jQuery(this).attr("data-notification_id");jQuery.ajax({type:"post",url:decodeURI(window.ulp_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_notification_send_test_email_popup",
id:a},success:function(b){jQuery(b).hide().appendTo("body").fadeIn("normal")}})})});function ulpSendNotificationTest(){jQuery.ajax({type:"post",url:decodeURI(window.uap_url)+"/wp-admin/admin-ajax.php",data:{action:"ulp_ajax_do_send_notification_test",id:jQuery(".ulp-js-notification-test-id").val(),email:jQuery(".ulp-js-notification-test-email").val()},success:function(a){ulpCloseNotifPopup()}})}function ulpCloseNotifPopup(){jQuery("#ulp_popup_box").fadeOut(300,function(){jQuery(this).remove()})};
